(this.webpackJsonpstar_apps_studio=this.webpackJsonpstar_apps_studio||[]).push([[0],{11:function(t,e,s){t.exports=s(20)},16:function(t,e,s){},19:function(t,e,s){},20:function(t,e,s){"use strict";s.r(e);var a=s(0),r=s.n(a),n=s(10),i=s.n(n),c=(s(16),s(17),s(2)),o=s.n(c),u=s(8),l=s(7),d=s(3),h=s(4),v=s(1),p=s(6),k=s(5),m=(s(19),function(t){Object(p.a)(s,t);var e=Object(k.a)(s);function s(t){var a;return Object(d.a)(this,s),(a=e.call(this,t)).state={intervalId:"",currentCount:0,status:"not_started"},a.timer=a.timer.bind(Object(v.a)(a)),a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){if("started"==this.props.task.status){var t=setInterval(this.timer,1e3);this.setState({intervalId:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.task.status!=this.state.status&&"started"==this.props.task.status){var t=setInterval(this.timer,1e3);this.setState({status:"started",intervalId:t})}}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"timer",value:function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState({currentCount:this.state.currentCount+1});case 2:20==this.state.currentCount&&(this.props.finishTask(this.props.task.task),clearInterval(this.state.intervalId));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{class:"progress",style:{height:"100%"}},r.a.createElement("div",{class:"progress-bar ".concat("done"==this.props.task.status?"bg-success":"started"==this.props.task.status?"progress-bar-striped progress-bar-animated":"bg-warning"),role:"progressbar",style:{width:"started"==this.props.task.status?5*this.state.currentCount+"%":"done"==this.props.task.status?"100%":"0%"},id:this.props.task.task}),r.a.createElement("div",{className:"placeholder ".concat("not_started"==this.props.task.status?"colorBlack":"")},"started"==this.props.task.status?this.state.currentCount+" secs completed || Running on Server "+this.props.task.server:"not_started"==this.props.task.status?"Waiting":"Done"))),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-danger btn-block",onClick:function(){return t.props.deleteTask(t.props.task.task)},disabled:"not_started"!=this.props.task.status&&"disabled"},"Delete")))}}]),s}(a.Component)),f=function(t){Object(p.a)(s,t);var e=Object(k.a)(s);function s(){return Object(d.a)(this,s),e.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,this.props.tasks.map((function(e,s){if(1==e.active)return r.a.createElement(m,{key:s,task:e,finishTask:t.props.finishTask,deleteTask:t.props.deleteTask})})))}}]),s}(a.Component),b=function(t){Object(p.a)(s,t);var e=Object(k.a)(s);function s(){var t;return Object(d.a)(this,s),(t=e.call(this)).state={servers:[{name:1,task:"",active:!0}],tasks:[]},t.addTasks=t.addTasks.bind(Object(v.a)(t)),t.attachServers=t.attachServers.bind(Object(v.a)(t)),t.finishTask=t.finishTask.bind(Object(v.a)(t)),t.deleteTask=t.deleteTask.bind(Object(v.a)(t)),t.addServer=t.addServer.bind(Object(v.a)(t)),t}return Object(h.a)(s,[{key:"addServer",value:function(){var t=Object(l.a)(o.a.mark((function t(){var e,s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=this.state.servers.length)<10)){t.next=9;break}return(s=new Object).name=e+1,s.task="",s.active=!0,t.next=8,this.setState((function(t){return{servers:[].concat(Object(u.a)(t.servers),[s])}}));case 8:for(a=0;a<this.state.servers.length;a++)this.attachServers();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addTasks",value:function(){var t=Object(l.a)(o.a.mark((function t(){var e,s,a,r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=this.state.tasks.length,s=Object(u.a)(this.state.tasks),a=Number(document.getElementById("numberOfTasks").value)+e,r=e+1;r<=a;r++)(n=new Object).task=r,n.server="",n.status="not_started",n.active=!0,s.push(n);return t.next=6,this.setState({tasks:s});case 6:for(r=0;r<this.state.servers.length;r++)this.attachServers();document.getElementById("numberOfTasks").value="";case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"attachServers",value:function(){var t=this.state.servers.findIndex((function(t){return""===t.task&&1==t.active}));if(-1==t)return"";var e=this.state.tasks.findIndex((function(t){return"not_started"==t.status&&1==t.active}));-1!=e&&(this.state.servers[t].task=this.state.tasks[e].task,this.state.tasks[e].server=this.state.servers[t].name,this.state.tasks[e].status="started",this.forceUpdate())}},{key:"finishTask",value:function(){var t=Object(l.a)(o.a.mark((function t(e){var s,a,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.state.tasks.findIndex((function(t){return t.task===e})),"-1"!=(a=this.state.servers.findIndex((function(t){return t.task===e})))&&(this.state.servers[a].task=""),"-1"!=s&&(this.state.tasks[s].status="done"),t.next=6,this.forceUpdate();case 6:for(r=0;r<this.state.servers.length;r++)this.attachServers();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteTask",value:function(t){var e=this.state.tasks.findIndex((function(e){return e.task===t}));e+1==this.state.tasks.length?this.setState({tasks:this.state.tasks.slice(0,this.state.tasks.length-1)}):(this.state.tasks[e].active=!1,this.forceUpdate())}},{key:"deleteServer",value:function(t){var e=this.state.servers.findIndex((function(e){return e.name===t}));e+1==this.state.servers.length?this.setState({servers:this.state.servers.slice(0,this.state.servers.length-1)}):(this.state.servers[e].active=!1,this.forceUpdate())}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.addServer},"Add Server")),r.a.createElement("div",{className:"col-10"},this.state.servers.map((function(e,s){if(1==e.active)return r.a.createElement("div",{key:s,className:"btn-group mr-2 mb-2",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-outline-primary px-4 pointerEventsDisabled"},"Server ",e.name),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return t.deleteServer(e.name)},disabled:""!=e.task||"1"==e.name},"X"))})))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.addTasks},"Add Tasks")),r.a.createElement("div",{className:"col-3"},r.a.createElement("input",{className:"form-control",type:"text",id:"numberOfTasks",placeholder:"Number of Tasks"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(f,{tasks:this.state.tasks,finishTask:this.finishTask,deleteTask:this.deleteTask}))))}}]),s}(a.Component);var E=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.ca0fcb85.chunk.js.map